---
/**
 * Featured Products Section - Iris Muebles
 * 
 * Grid de productos destacados con estilo consistente
 */
import { formatPrice } from '../../lib/formatters';

const API_BASE = import.meta.env.PUBLIC_API_URL || "http://localhost:5000/api";

// Placeholder products until API is connected
const placeholderProducts = [
  {
    id: 1,
    nombre: "Sofa Moderno 3 Cuerpos",
    precio: 450000,
    categoria: "Sofas",
    imagen: null,
    material: "Tela premium",
  },
  {
    id: 2,
    nombre: "Mesa de Comedor Nordica",
    precio: 280000,
    categoria: "Mesas",
    imagen: null,
    material: "Madera de roble",
  },
  {
    id: 3,
    nombre: "Silla Ergonomica Office",
    precio: 185000,
    categoria: "Sillas",
    imagen: null,
    material: "Malla transpirable",
  },
  {
    id: 4,
    nombre: "Cama Queen con Respaldo",
    precio: 520000,
    categoria: "Camas",
    imagen: null,
    material: "Madera maciza",
  },
];
---

<section class="py-20 bg-white">
  <div class="container">
    <!-- Section Header -->
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-12">
      <div>
        <span class="inline-block px-4 py-1.5 bg-orange-100 text-orange-600 text-sm font-medium rounded-full mb-4">
          Destacados
        </span>
        <h2 class="text-3xl lg:text-4xl font-bold text-gray-900 mb-2">
          Productos Destacados
        </h2>
        <p class="text-gray-600">Los favoritos de nuestros clientes</p>
      </div>

      <a
        href="/catalogo"
        class="inline-flex items-center gap-2 px-6 py-3 bg-gray-900 text-white font-semibold rounded-xl"
      >
        Ver todo el catalogo
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>

    <!-- Products Grid -->
    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6 justify-items-center">
      {
        placeholderProducts.map((product) => (
          <article class="bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100">
            {/* Product Image */}
            <a href={`/producto/${product.id}`} class="block relative aspect-square bg-gray-50 overflow-hidden">
              {product.imagen ? (
                <img
                  src={product.imagen}
                  alt={product.nombre}
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              ) : (
                <div class="w-full h-full flex items-center justify-center bg-linear-to-br from-gray-50 to-gray-100">
                  <svg
                    class="w-20 h-20 text-gray-300"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="1"
                      d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
                    />
                  </svg>
                </div>
              )}

              {/* Category Badge */}
              <span class="absolute top-3 left-3 px-3 py-1 bg-white/90 backdrop-blur-sm text-xs font-medium text-gray-700 rounded-full shadow-sm">
                {product.categoria}
              </span>

              {/* Quick Add Button */}
              <button
                class="absolute bottom-3 right-3 w-12 h-12 bg-blue-500 text-white rounded-full flex items-center justify-center shadow-lg"
                aria-label="Agregar al carrito"
              >
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4" />
                </svg>
              </button>
            </a>

            {/* Product Info */}
            <div class="p-5">
              <span class="text-xs text-gray-500 mb-1 block">{product.material}</span>
              <h3 class="font-semibold text-gray-900 mb-2 line-clamp-2">
                <a href={`/producto/${product.id}`}>{product.nombre}</a>
              </h3>
              <p class="text-lg font-bold text-orange-600">
                {formatPrice(product.precio)}
              </p>
            </div>
          </article>
        ))
      }
    </div>
  </div>
</section>
